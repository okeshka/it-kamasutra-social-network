{"version":3,"sources":["redux/dialogs-reducer.js","api/api.js","components/Users/Users.module.css","assets/img/loader.gif","components/Navbar/Navbar.module.css","components/Navbar/Navbar.jsx","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","utils/object-helpers.js","redux/users-reducer.js","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/redux-store.js","components/hoc/withLazyLoad.js","App.js","index.js","components/common/FormsControls/FormsControls.jsx","components/common/Preloader/Preloader.jsx","components/common/FormsControls/FormsControls.module.css","components/common/Paginator/Paginator.module.css","utils/validators/validators.js","components/Header/Header.module.css","redux/profile-reducer.js","assets/img/user.png"],"names":["initialState","messages","id","message","dialogs","name","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","instance","Axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","page","pageSize","get","then","response","data","setUnFollow","delete","setFollow","post","getAuth","console","warn","authAPI","getMyProfile","userId","profileAPI","getProfile","getStatus","updateStatus","status","put","login","email","password","rememberMe","logout","module","exports","Navbar","className","s","nav","item","to","activeClassName","activeLink","href","Paginator","totalItemsCount","onPageChange","currentPage","portionSize","pagesCount","Math","ceil","pages","i","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","filter","map","cn","selectedPage","pageNumber","key","User","user","isFollowingInProgress","unfollow","follow","src","photos","small","userphoto","usersPhoto","alt","followed","disabled","some","Users","totalUsersCount","users","props","updateObjectArray","items","itemId","objPropName","newObjProps","FOLLOW","isFetching","followingInProgress","followSuccess","unfollowSuccess","setPage","setPreloadUser","preloader","setFollowingInProgress","following","followUnfollow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","count","getUser","createSelector","usersPage","u","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","React","Component","compose","connect","totalCount","bind","Header","header","loginBlock","isAuth","setAuthUserData","payload","setAuthMe","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","required","Input","formSummaryError","length","stopSubmit","_error","inisialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withLazyLoad","fallback","Preloader","DialogsContainer","lazy","ProfileContainer","App","inisializedApp","path","render","AppContainer","withRouter","SamuraiApp","ReactDOM","document","getElementById","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","child","placeholder","validators","component","text","validate","Preload","loader","value","maxLength","posts","likesCount","profile","addPost","newPostText","setStatus","setProfile","element"],"mappings":"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","file":"static/js/main.79be8d03.chunk.js","sourcesContent":["const SEND_MESSAGE = \"SEND-MESSAGE\";\r\n\r\nlet initialState = {\r\n    messages: [\r\n        {id: 1, message: 'Hi'}, \r\n        {id: 2, message: 'Pruvet'}, \r\n        {id:3, message: 'Yooo'} \r\n    ],\r\n    dialogs: [\r\n        {id: 1, name: 'Oleshych'}, \r\n        {id: 2, name: 'Alex'}, \r\n        {id:3, name: 'Helga'}, \r\n        {id:4, name: 'Perdak'},\r\n        {id:5, name: 'Cherdak'}\r\n    ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    \r\n    switch (action.type) {\r\n        \r\n        case SEND_MESSAGE: \r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 4, message: action.newMessageBody}],\r\n            };        \r\n\r\n        default: return state;  \r\n    }\r\n};\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody});\r\n\r\nexport default dialogsReducer;","import Axios from 'axios';\r\n\r\nconst instance = Axios.create(\r\n    {\r\n        withCredentials: true, \r\n        baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n        headers: {\r\n            \"API-KEY\": \"7919d3b9-03b5-4034-a63c-6e6e17512541\"\r\n        }\r\n    }\r\n);\r\n\r\nexport const usersAPI = {\r\n    getUsers(page, pageSize) {\r\n        return instance\r\n        .get(`users?page=${page}&count=${pageSize}`)\r\n        .then(response => response.data) //цепочка промисов, возвращает новый промис\r\n    },\r\n\r\n    setUnFollow(id) {\r\n        return instance\r\n        .delete(`follow/${id}`)\r\n        .then(response => response.data)\r\n    },\r\n\r\n    setFollow(id) {\r\n        return instance\r\n        .post(`follow/${id}`)\r\n        .then(response => response.data)\r\n    },\r\n\r\n    getAuth() {\r\n        console.warn('This method doesn`t work');\r\n        return authAPI.getAuth();\r\n    },\r\n\r\n    getMyProfile(userId) {\r\n        console.warn('This method doesn`t work');\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance\r\n        .get(`profile/${userId}`)\r\n        .then(response => response.data)\r\n    },\r\n\r\n    getStatus(userId) {\r\n        return instance\r\n        .get(`/profile/status/${userId}`)\r\n    },\r\n\r\n    updateStatus(status) {\r\n        return instance\r\n        .put(`profile/status/`, {status: status});\r\n    }\r\n}\r\n\r\nexport const authAPI =  {\r\n    getAuth() {\r\n        return instance\r\n            .get(`auth/me`)\r\n            .then(response => response.data)\r\n    },\r\n\r\n    login(email, password, rememberMe = false) {\r\n        return instance\r\n            .post(`auth/login`, {email, password, rememberMe})\r\n            .then(response => response.data)\r\n    },\r\n\r\n    logout() {\r\n        return instance\r\n            .delete(`auth/login`)\r\n            .then(response => response.data)\r\n    },\r\n\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"Users_usersPhoto__3hHe6\"};","module.exports = __webpack_public_path__ + \"static/media/loader.fa91e5de.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__21yw_\",\"item\":\"Navbar_item__1Rp50\",\"activeLink\":\"Navbar_activeLink__23bEX\"};","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className = {s.nav}>\r\n        <div className = {s.item}>\r\n          <NavLink to = \"/profile\" activeClassName = {s.activeLink}>Profile</NavLink>\r\n        </div>\r\n        <div className = {s.item}>\r\n          <NavLink to = \"/dialogs\" activeClassName = {s.activeLink}>Messages</NavLink>\r\n        </div>\r\n        <div className = {s.item}>\r\n          <NavLink to = \"/users\" activeClassName = {s.activeLink}>Users</NavLink>\r\n        </div>\r\n        <div className = {s.item}>\r\n          <a href = \"#3\">News</a>\r\n        </div>\r\n        <div className = {s.item}>\r\n          <a href = \"#4\">Music</a>\r\n        </div>\r\n        <div className = {s.item}>\r\n          <a href = \"#5\">Setings</a>\r\n        </div>\r\n      </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React, {useState} from 'react';\r\nimport s from './Paginator.module.css';\r\nimport cn from 'classnames';\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, onPageChange, currentPage, portionSize = 10}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) pages = [...pages, i];\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1)*portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber*portionSize;\r\n\r\n    return <div className = {s.paginator}> \r\n                {portionNumber > 1 && <button onClick = {() => {setPortionNumber(portionNumber - 1)}}>Назад</button>}\r\n                {pages\r\n                .filter(page => page >= leftPortionPageNumber && page <= rightPortionPageNumber)\r\n                .map(page => {\r\n                    return <span className = {cn({[s.selectedPage]: currentPage === page}, s.pageNumber)}\r\n                                onClick = {\r\n                                    () => {onPageChange(page)}\r\n                                } \r\n                                key = {page}>{page}\r\n                            </span>\r\n                    }\r\n                )}\r\n                {portionNumber < portionCount && <button onClick = {() => {setPortionNumber(portionNumber + 1)}}>Вперед</button>}\r\n            </div>\r\n};\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport s from './Users.module.css';\r\nimport userphoto from '../../assets/img/user.png';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst User = ({user, isFollowingInProgress, unfollow, follow}) => {\r\n    return (\r\n        <div>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img src= {user.photos.small != null ? user.photos.small : userphoto}\r\n                            className = {s.usersPhoto} alt=\"kartinka face\" />\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed ? \r\n                        <button disabled = {isFollowingInProgress.some(id => id === user.id)} type = \"button\" \r\n                        onClick = {() => {unfollow(user.id) }}>\r\n                            UnFollow\r\n                        </button>:\r\n                        <button disabled = {isFollowingInProgress.some(id => id === user.id)} type = \"button\" \r\n                        onClick = {() => {follow(user.id)}}>\r\n                            Follow\r\n                        </button>\r\n                    }  \r\n                </div>\r\n            </span>\r\n            <span>\r\n                <div>{user.name}</div>\r\n                <div>{user.status}</div>\r\n            </span>\r\n            <span>\r\n                <div>{'user.location.country'}</div>\r\n                <div>{'user.location.city'}</div>\r\n            </span>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\nlet Users = ({totalUsersCount, pageSize, onPageChange, currentPage, users, ...props}) => {\r\n        return ( \r\n            <div>\r\n                <Paginator  totalItemsCount = {totalUsersCount} pageSize = {pageSize}\r\n                    onPageChange = {onPageChange} currentPage = {currentPage} />\r\n                {users.map(user => \r\n                    <User key = {user.id} user = {user} isFollowingInProgress = {props.isFollowingInProgress} \r\n                        unfollow = {props.unfollow} follow = {props.follow} />\r\n                )}\r\n            </div>\r\n        )\r\n}\r\n\r\nexport default Users;","export const updateObjectArray = (items, itemId, objPropName, newObjProps) => {\r\n    return  items.map(item => {\r\n        if (item[objPropName] === itemId) {\r\n            return {...item, ...newObjProps} \r\n        };\r\n        return item;\r\n    })\r\n}","import { usersAPI } from '../api/api';\r\nimport { updateObjectArray } from '../utils/object-helpers';\r\n\r\nconst FOLLOW= \"social-network/users-reducer/FOLLOW\"; //redux-ducks\r\nconst UNFOLLOW= \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_PAGE = \"SET_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE-IS-FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_IN_PROGRESS = 'TOGGLE-IS-FOLLOWING-IN-PROGRESS';\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 50,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [] \r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    \r\n    switch (action.type) {\r\n\r\n        case FOLLOW: \r\n            return {\r\n                ...state, \r\n                users: updateObjectArray(state.users, action.userId, \"id\", {followed: true})\r\n            }\r\n             \r\n        case UNFOLLOW:\r\n            return {\r\n                ...state, \r\n                users: updateObjectArray(state.users, action.userId, \"id\", {followed: false}) \r\n            }\r\n        \r\n        case SET_USERS: \r\n            return {\r\n                ...state,\r\n                users: action.users,\r\n            };\r\n        \r\n        case SET_PAGE:\r\n            return {\r\n                ...state, \r\n                currentPage: action.page\r\n            }\r\n        \r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            }\r\n        \r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.preloader\r\n            }\r\n        \r\n            case TOGGLE_IS_FOLLOWING_IN_PROGRESS:\r\n                return {\r\n                 ...state,\r\n                 followingInProgress: action.following ? \r\n                 [...state.followingInProgress, action.userId] :\r\n                 state.followingInProgress.filter( id => id !== action.userId)\r\n                }\r\n\r\n            default: return state;\r\n    }  \r\n}\r\n\r\nexport const followSuccess = (userId) => ( {type: FOLLOW, userId} );\r\nexport const unfollowSuccess = (userId) => ( {type: UNFOLLOW, userId} );\r\nexport const setUser = (users) => ( {type: SET_USERS, users} );\r\nexport const setPage = (page) => ( {type: SET_PAGE, page});\r\nexport const setTotallUsersCount = (count) => ({type: SET_TOTAL_USERS_COUNT, count});\r\nexport const setPreloadUser = (preloader) => ( {type: TOGGLE_IS_FETCHING, preloader} );\r\nexport const setFollowingInProgress = (following, userId) => ( {type: TOGGLE_IS_FOLLOWING_IN_PROGRESS, following, userId} );\r\n\r\nexport const getUsers = (currentPage, pageSize) => async dispatch => {\r\n    dispatch(setPreloadUser(true));\r\n    dispatch(setPage(currentPage));\r\n    let data = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(setPreloadUser(false));\r\n    dispatch(setUser(data.items));\r\n    dispatch(setTotallUsersCount(data.totalCount))\r\n};\r\n\r\nconst followUnfollow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(setFollowingInProgress(true, userId));\r\n    const data = await apiMethod(userId);\r\n    if (data.resultCode === 0) dispatch(actionCreator(userId));\r\n    dispatch(setFollowingInProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n     followUnfollow(dispatch, userId, usersAPI.setFollow.bind(usersAPI), followSuccess);    \r\n};\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n    followUnfollow(dispatch, userId, usersAPI.setUnFollow.bind(usersAPI), unfollowSuccess);\r\n};\r\n\r\nexport default usersReducer;","import { createSelector } from \"reselect\";\r\n\r\nconst getUsersSelector = state => {\r\n    return state.usersPage.users\r\n};\r\n\r\nexport const getUser = createSelector( getUsersSelector, \r\n    (users) => {\r\n        return users.filter(u => true);\r\n    });\r\n\r\nexport const getPageSize = state => {\r\n    return state.usersPage.pageSize\r\n};\r\n\r\nexport const getTotalUsersCount = state => {\r\n    return state.usersPage.totalUsersCount\r\n};\r\n\r\nexport const getCurrentPage = state => {\r\n    return state.usersPage.currentPage\r\n};\r\n\r\nexport const getIsFetching = state => {\r\n    return state.usersPage.isFetching\r\n};\r\n\r\nexport const getFollowingInProgress = state => {\r\n    return state.usersPage.followingInProgress\r\n};\r\n","import React from 'react';\r\nimport Users from './Users';\r\nimport {connect} from 'react-redux';\r\nimport { follow, unfollow, setPage, setPreloadUser, \r\n        setFollowingInProgress, getUsers } from '../../redux/users-reducer';\r\nimport Preload from '../common/Preloader/Preloader';\r\n//import { withAuthRedirect } from '../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport {getUser, getPageSize, getTotalUsersCount, \r\n    getCurrentPage, getIsFetching, getFollowingInProgress} from '../../redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n \r\n    componentDidMount() {\r\n        const {currentPage, pageSize, getUsers} = this.props;\r\n        getUsers(currentPage, pageSize)\r\n    };\r\n\r\n    onPageChange = (page) => {\r\n        const {pageSize, getUsers} = this.props;\r\n        getUsers(page, pageSize)\r\n    };\r\n    render() {\r\n        return <>\r\n                    {this.props.isFetching ? <Preload /> : null}\r\n                    <Users totalUsersCount = {this.props.totalUsersCount} \r\n                        pageSize = {this.props.pageSize} \r\n                        onPageChange = {this.onPageChange} \r\n                        currentPage = {this.props.currentPage}\r\n                        users = {this.props.users} \r\n                        follow = {this.props.follow} \r\n                        unfollow = {this.props.unfollow}\r\n                        setFollowingInProgress = {this.props.setFollowingInProgress}\r\n                        isFollowingInProgress = {this.props.isFollowingInProgress}\r\n                    />\r\n                </>\r\n    }\r\n};\r\n\r\nlet mapStateToProps = state => {\r\n    return {\r\n        users: getUser(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        isFollowingInProgress: getFollowingInProgress(state),\r\n    }\r\n};\r\n\r\nexport default compose(connect(mapStateToProps, { setPreloadUser,\r\n    setPage,  setFollowingInProgress,\r\n    getUsers, follow, unfollow}), \r\n    //withAuthRedirect\r\n    )(UsersContainer);","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className = {s.header}>\r\n        <img src = \"https://img.pngio.com/capital-letter-z-transparent-png-stickpng-png-that-begins-with-letter-z-1271_1280.png\" alt = \"sociall network\" />\r\n        \r\n        <div className = {s.loginBlock}>\r\n           {props.isAuth ? <div>{props.login} <button onClick = {props.logout}>Выйти блин</button></div> : \r\n                <NavLink to = {'/login'}>Login</NavLink>\r\n            }\r\n        </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import {authAPI} from '../api/api';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nconst SET_USERS_DATA= \"SET-USERS-DATA\";\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    \r\n    switch (action.type) {\r\n\r\n        case SET_USERS_DATA: \r\n        \r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            } \r\n        \r\n        default: return state;       \r\n    }  \r\n}\r\n\r\nexport const setAuthUserData = (userId, login, email, isAuth) => ( {type: SET_USERS_DATA, payload: {userId, login, email, isAuth}} );\r\n\r\n\r\nexport const setAuthMe = () => async (dispatch) => {\r\n    let data = await authAPI.getAuth();\r\n    if (data.resultCode ===  0) {\r\n    let {id, login, email} = data.data;\r\n    dispatch(setAuthUserData(id, login, email, true));                   \r\n        }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let data = await authAPI.login(email, password, rememberMe);\r\n    if (data.resultCode ===  0) {\r\n        dispatch(setAuthMe());                   \r\n    }\r\n    else { //stopSubmit - это AC от redux-form, 'login' -  название формы, _error - общая ошибка на всю форму\r\n        let message = data.messages.length > 0 ? data.messages[0] : 'Some error';\r\n        dispatch(stopSubmit('login', {_error: message}))\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let data = await authAPI.logout();\r\n    if (data.resultCode ===  0) {\r\n        dispatch(setAuthUserData(null, null, null, false));                   \r\n    }\r\n}\r\n \r\nexport default authReducer;","import React from 'react';\r\nimport Header from './Header';\r\nimport {connect} from 'react-redux';\r\nimport {logout} from '../../redux/auth-reducer';\r\n\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n    \r\n    render() {\r\n        return (\r\n            <Header {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport { reduxForm } from 'redux-form';\r\nimport {Input, createField} from '../common/FormsControls/FormsControls';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../redux/auth-reducer'\r\nimport { Redirect } from 'react-router-dom';\r\nimport s from '../common/FormsControls/FormsControls.module.css';\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n            <form onSubmit = {handleSubmit}>\r\n                {createField('e-mail', 'email',  [required], Input)}\r\n                {createField('Password', 'password',  [required], Input, {type: 'password'})}\r\n                {createField(null,  'rememberMe', [], Input, {type: 'checkbox'}, 'Remember me')}\r\n                {error && <div className = {s.formSummaryError}>{error}</div>}   \r\n                <div>\r\n                    <button>Жми не бойся</button>\r\n                </div>\r\n            </form>\r\n    )\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nconst Login = props => {\r\n\r\n    const onSubmit = ({email, password, rememberMe}) => {\r\n        props.login(email, password, rememberMe); \r\n    }\r\n\r\n    if (props.isAuth) return <Redirect to = '/profile' />;\r\n\r\n    return (\r\n        <div>\r\n            <h1>\r\n                Login\r\n            </h1>\r\n           <LoginReduxForm onSubmit = {onSubmit} />\r\n        </div>\r\n    )\r\n};\r\n\r\nlet mapStateToProps = state => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default connect (mapStateToProps, {login})(Login);","import { setAuthMe } from \"./auth-reducer\";\r\n\r\n const INISIALIZED_SUCCESS = \"SUCCESS-INISIALIZED\";\r\n\r\nlet initialState = {\r\n    inisialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    \r\n    switch (action.type) {\r\n\r\n        case INISIALIZED_SUCCESS: \r\n        \r\n            return {\r\n                ...state,\r\n                inisialized: true,\r\n            } \r\n        \r\n        default: return state;       \r\n    }  \r\n}\r\n\r\nexport const inisializedSuccess = () => ( {type: INISIALIZED_SUCCESS} );\r\n\r\nexport const inisializedApp = () => dispatch => {\r\n  let promise = dispatch(setAuthMe());\r\n  promise.then(() => {dispatch(inisializedSuccess())});\r\n}\r\n\r\nexport default appReducer;","import { createStore, combineReducers, applyMiddleware, compose} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n// store для расширения redux dev tools\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React, {Suspense} from 'react';\r\nimport Preloader from '../common/Preloader/Preloader';\r\n\r\nconst withLazyLoad = Component => {\r\n    return (props) => (\r\n    <Suspense fallback = {<Preloader />} >\r\n        <Component {...props}/>\r\n    </Suspense>\r\n    )}\r\n\r\nexport default withLazyLoad;","import React from 'react';\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\n//import DialogsContainer from './components/Dialogs/DialogsContainer';\r\nimport {Route, withRouter, HashRouter } from 'react-router-dom';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\n//import ProfileContainer from './components/Profile/ProfileContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport LoginPage from './components/Login/Login';\r\nimport { Provider, connect } from 'react-redux';\r\nimport { inisializedApp } from './redux/app-reducer';\r\nimport { compose } from 'redux';\r\nimport Preload from './components/common/Preloader/Preloader';\r\nimport store from './redux/redux-store';\r\nimport withLazyLoad from './components/hoc/withLazyLoad';\r\n\r\nconst DialogsContainer = React.lazy(() => import ('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import ('./components/Profile/ProfileContainer'));\r\n\r\nclass App extends React.Component {\r\n\r\n  componentDidMount() {\r\n    this.props.inisializedApp();\r\n  }\r\n\r\n  render() { \r\n    if (!this.props.inisialized) return <Preload />;\r\n    return (\r\n        <div className = \"app-wrapper\">\r\n          <HeaderContainer />\r\n          <Navbar />\r\n          <div className = \"app-wrapper-content\">\r\n            <Route path = '/dialogs' render = {withLazyLoad(DialogsContainer)}/>\r\n            <Route path = '/profile/:userId?' render = {withLazyLoad(ProfileContainer)}/> \r\n            <Route path = '/users' render = { () => <UsersContainer /> } />\r\n            <Route path = '/login' render = { () => <LoginPage /> } />\r\n          </div>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\n// при connect плохо работает Route, надо обернуть withRoute\r\n\r\nconst mapStateToProps = state => ({\r\n  inisialized: state.app.inisialized\r\n})\r\n\r\nconst AppContainer = compose(withRouter, connect(mapStateToProps, {inisializedApp}))(App);\r\n\r\nconst SamuraiApp = props => {\r\n  return (\r\n    <Provider store = {store}>\r\n          <HashRouter > \r\n            {/*For Github pages deploy with BrowserRouter basename = {process.env.PUBLIC_URL} for react-router, \r\n            replace BrowserRouter with HashRouter, #anchor apperance*/}\r\n            <AppContainer />\r\n          </HashRouter>\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport default SamuraiApp;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\n    ReactDOM.render(\r\n      <App />, \r\n      document.getElementById('root')\r\n    )\r\n","import React from 'react';\r\nimport s from './FormsControls.module.css';\r\nimport {Field} from 'redux-form';\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className = {`${s.formControl} ${hasError ? s.error : ''}`}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            <div>\r\n                {hasError && <span>{error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    let {input, child, meta, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n    )\r\n}\r\n\r\nexport const Input = (props) => {\r\n    let {input, child, meta, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n    )\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = '') => (\r\n    <div>\r\n        <Field component = {component} name = {name} placeholder = {placeholder} \r\n            validate = {validators} {...props}/>\r\n        {text}\r\n    </div>\r\n)  ","import React from 'react';\r\nimport loader from '../../../assets/img/loader.gif';\r\n\r\nconst Preload = props => <img src = {loader} alt = 'loading' />;\r\n\r\nexport default Preload;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__33Lmd\",\"error\":\"FormsControls_error__2J_Bl\",\"formSummaryError\":\"FormsControls_formSummaryError__3a1b5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3H6Ih\",\"pageNumber\":\"Paginator_pageNumber__1Ymak\",\"selectedPage\":\"Paginator_selectedPage__2uOQP\"};","export const required = value => {\r\n    if (value) return undefined;\r\n    return 'Field is required'\r\n};\r\n\r\nexport const maxLength = length => value => {\r\n    if (value.length > length) return `Max length ${length} symbols`;\r\n    return undefined;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3NoaD\",\"loginBlock\":\"Header_loginBlock__3Ogxw\"};","import {usersAPI, profileAPI} from '../api/api';\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET-USER-PROFILE\";\r\nconst SET_STATUS = 'SET-STATUS';\r\nconst DELETE_POST = 'DELETE-POST';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, its my first post', likesCount: 2}, \r\n        {id: 2, message: 'Have a nice day', likesCount: 3}, \r\n        {id:3, message: 'Good morning', likesCount: 5} \r\n        ],\r\n    profile: null,\r\n    status: '',\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    \r\n    switch (action.type) {\r\n\r\n            case ADD_POST: {\r\n                return  {\r\n                    ...state,\r\n                    posts: [...state.posts, {id: 4, message: action.newPostText, likesCount: 5}],\r\n                };\r\n                \r\n            }\r\n                 \r\n            case SET_USER_PROFILE: {\r\n                return {\r\n                    ...state,\r\n                    profile: action.profile,\r\n                }\r\n            }\r\n            case SET_STATUS: {\r\n                return {\r\n                    ...state,\r\n                    status: action.status,\r\n                }\r\n            }\r\n\r\n            case DELETE_POST: {\r\n                return {\r\n                    ...state,\r\n                    posts: state.posts.filter(element => element.id !== action.id)\r\n                }\r\n            }\r\n          \r\n            default: return state;\r\n    }  \r\n}\r\n\r\nexport const addPost = (newPostText) => \r\n( {type: ADD_POST, newPostText} );\r\n\r\nexport const setUserProfile = profile => \r\n    ( {type: SET_USER_PROFILE, profile} );\r\n\r\nexport const deletePost = id => \r\n( {type: DELETE_POST, id} );\r\n\r\nconst setStatus = status => \r\n    ({type: SET_STATUS, status});\r\n\r\nexport const setProfile = userId => async (dispatch) => {\r\n    const data = await usersAPI.getMyProfile(userId);\r\n    dispatch(setUserProfile(data));\r\n}\r\n\r\nexport const getStatus = userId => async (dispatch) => {\r\n    const response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = status => async dispatch => {\r\n    const response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) dispatch(setStatus(status));\r\n}\r\n\r\nexport default profileReducer;","module.exports = __webpack_public_path__ + \"static/media/user.f8a15e74.png\";"],"sourceRoot":""}